==================================================
幾何公差の理解を支援する可視化アプリ
==================================================

■ 概要
本アプリは，幾何公差の
評価過程および公差域と実形状の関係を，
視覚的かつ直感的に理解することを目的とした
学習支援用Webアプリです。

■ 対象
・幾何公差を初めて学ぶ学生
・製図および機械設計の基礎学習者
・幾何公差の評価過程を直感的に理解したい学習者

■ 教育的意図
従来の幾何公差学習では，規格文や図面例による説明が中心であり，
評価結果に至る過程を直感的に理解することが難しい場合があります。

本アプリでは，公差域と実形状の位置関係を可視化することで，
「なぜその形状がOKまたはNGとなるのか」を
学習者自身が確認できるように設計しています。

■ アプリ構成
geo_tolerance_app
├── app.py                 # アプリ全体を管理
├── app_pages/             # 各幾何公差ごとの表示ページ
│   ├── home.py
│   ├── straightness.py
│   ├── roundness.py
│   ├── flatness_3d.py
│   ├── true_position.py
│   ├── mmc.py
│   └── combined_tolerance.py
├── core/                  # 共通処理（描画・設定・補助関数）
│   ├── config.py
│   ├── figures.py
│   └── image_helpers.py
├── images/                # 図面例・説明用の静的画像
├── fonts/                 # 日本語表示用フォント
│   └── NotoSansJP-*.ttf
├── requirements.txt       # 使用ライブラリ（バージョン固定）
├── runtime.txt            # Python バージョン指定
└── README.txt              # 本ドキュメント


・app.py  
app.py はアプリ全体の起動点として，
ページ切り替えや共通設定など，アプリ全体の制御を担当します。

・app_pages/  
app_pages/ は，各幾何公差ごとの表示ページを格納するフォルダです。
公差種別ごとにファイルを分離することで，
表示内容と学習目的を明確にしています。

  - home.py  
    アプリのトップページを表示します。
  - straightness.py  
    真直度の可視化および評価例を表示します。
  - roundness.py  
    真円度の可視化および評価例を表示します。
  - flatness_3d.py  
    平面度を3次元表示で可視化します。
  - true_position.py  
    位置度の公差域と実形状の関係を表示します。
  - mmc.py  
    最大実体公差（MMC）およびボーナス公差を可視化します。
  - combined_tolerance.py  
    複数条件や公差の組み合わせを扱います。

・core/  
core/ は，計算処理および描画処理を共通化したモジュール群です。
各ページから呼び出すことで，処理の重複を防ぎ，
保守性および拡張性を高めています。

  - config.py  
    表示設定や共通パラメータを管理します。
  - figures.py  
    公差域や実形状を描画する図生成処理をまとめています。
  - image_helpers.py  
    図面例や説明用の静的画像を生成・読み込みする補助関数群です。

・images/  
図面例や説明用の画像ファイルを格納しています。

・fonts/  
アプリ内で使用する日本語フォントを格納しています。

・requirements.txt  
本アプリの実行に必要なPythonライブラリを記載しています。

■ 動作環境
・Python 3.11
・必要なライブラリは requirements.txt に記載しています。
・Streamlit Cloud 上でも同一環境で動作するよう設定しています。


■ 使い方（Web版）
1. 公開URLにアクセスします。
2. サイドバーから公差種別のページを選択します。
3. スライダー等を操作して，公差域と実形状の変化を確認します。

■ 公開先
GitHub:
https://github.com/f122027/geo_tolerance_app

本アプリは Streamlit Cloud 上で公開されています。
WebアプリURL
https://geotoleranceapp-aaklfcocfpqvsa7sbmrvph.streamlit.app

※ ブラウザのみで利用可能です。インストールは不要です。

■ 注意事項
・本アプリは教育および研究目的で作成されたものです。
・実際の製品検査や品質保証への直接利用は想定していません。
・規格内容は学習用途のため，一部簡略化して表現しています。

■ 起動方法（ローカル実行）
本アプリをローカル環境で実行する手順を以下に示します。
ローカル環境で実行したい，アプリのコードを取得したい場合は，
ここを参考にしてください。

1. Python のインストール
Python 3.11 がインストールされていない場合は，
公式サイト（https://www.python.org/）から Python 3.11 をインストールしてください。

2. リポジトリの取得
本アプリのソースコードは，GitHub 上で公開されています。
以下のいずれかの方法でリポジトリを取得してください。

【方法1：Git を使用する場合】
Git がインストールされている場合は，
コマンドプロンプト（Windows）またはターミナル（macOS / Linux）を開き，
以下のコマンドを実行します。

  git clone https://github.com/f122027/geo_tolerance_app.git

コマンド実行後，「geo_tolerance_app」というフォルダが作成され，
その中にアプリ一式が保存されます。

【方法2：ZIP ファイルを使用する場合】
Git を使用しない場合は，Web ブラウザから取得できます。

1. 以下の GitHub ページにアクセスします。  
   https://github.com/f122027/geo_tolerance_app
2. ページ右上の「Code」ボタンをクリックします。
3. 「Download ZIP」を選択します。
4. ダウンロードした ZIP ファイルを任意の場所に展開します。

展開後に作成されるフォルダ（geo_tolerance_app）を，
以降の作業ディレクトリとして使用します。


3. 作業ディレクトリの移動
取得したフォルダ（geo_tolerance_app）に移動します。

4. コマンドプロンプトの起動
「geo_tolerance_app-main」フォルダを開いた状態で，
エクスプローラー上部のアドレスバーをクリックし，
「cmd」と入力して Enter を押します。
このフォルダを作業ディレクトリとした
コマンドプロンプトが起動します。

5. 仮想環境の作成（任意）
ライブラリの競合を避けるため，仮想環境の使用を推奨します。

Windows の場合  
  python -m venv venv  

実行後，フォルダ内に「venv」フォルダが作成されます。

6. 仮想環境の有効化
以下のコマンドを実行し，仮想環境を有効化します。

　venv\Scripts\activate

コマンドプロンプトの先頭に「(venv)」と表示されれば成功です。

7. 必要なライブラリのインストール
以下のコマンドを実行し，
requirements.txt に記載されたライブラリをインストールします。

  pip install -r requirements.txt

8. アプリの起動
以下のコマンドを実行します。

  streamlit run app.py

起動後，Web ブラウザが自動的に開き，
アプリ画面が表示されます。
表示されない場合は，ターミナルに表示される
ローカルURL（http://localhost:8501 など）にアクセスしてください。
